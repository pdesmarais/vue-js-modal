!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-js-modal"]=e():t["vue-js-modal"]=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=1)}([function(t,e){t.exports=function(t,e,i,n){var o,s=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(o=t,s=t.default);var a="function"==typeof s?s.options:s;if(e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),i&&(a._scopeId=i),n){var u=a.computed||(a.computed={});Object.keys(n).forEach(function(t){var e=n[t];u[t]=function(){return e}})}return{esModule:o,exports:s,options:a}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),s=n(o),r=i(3),a=n(r),u=i(5),l=n(u),d={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.installed||(this.installed=!0,this.event=new t,this.dynamicContainer=null,this.componentName=e.componentName||"modal",t.prototype.$modal={_setDynamicContainer:function(t){d.dynamicContainer=t},show:function(t,e,i){"string"==typeof t?d.event.$emit("toggle",t,!0,e):null===d.dynamicContainer?console.warn("[vue-js-modal] In order to render dynamic modals, a <modals-container> component must be present on the page"):d.dynamicContainer.add(t,e,i)},hide:function(t,e){d.event.$emit("toggle",t,!1,e)},toggle:function(t,e){d.event.$emit("toggle",t,void 0,e)}},t.component(this.componentName,s.default),e.dialog&&t.component("v-dialog",a.default),e.dynamic&&t.component("modals-container",l.default))}};e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.inRange=function(t,e,i){return i<t?t:i>e?e:i};e.default={inRange:n}},function(t,e,i){i(11);var n=i(0)(i(6),i(16),null,null);t.exports=n.exports},function(t,e,i){i(12);var n=i(0)(i(7),i(17),null,null);t.exports=n.exports},function(t,e,i){var n=i(0)(i(8),i(15),null,null);t.exports=n.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"VueJsDialog",props:{width:{type:[Number,String],default:400},clickToClose:{type:Boolean,default:!0},transition:{type:String,default:"fade"}},data:function(){return{params:{},defaultButtons:[{title:"CLOSE"}]}},computed:{buttons:function(){return this.params.buttons||this.defaultButtons},buttonStyle:function(){return{flex:"1 1 "+100/this.buttons.length+"%"}}},methods:{beforeOpened:function(t){window.addEventListener("keyup",this.onKeyUp),this.params=t.params||{},this.$emit("before-opened",t)},beforeClosed:function(t){window.removeEventListener("keyup",this.onKeyUp),this.params={},this.$emit("before-closed",t)},click:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click",n=this.buttons[t];n&&"function"==typeof n.handler?n.handler(t,e,{source:i}):this.$modal.hide("dialog")},onKeyUp:function(t){if(13===t.which&&this.buttons.length>0){var e=1===this.buttons.length?0:this.buttons.findIndex(function(t){return t.default});-1!==e&&this.click(e,t,"keypress")}}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),s=n(o),r=i(14),a=n(r),u=i(2),l=i(10),d=n(l);e.default={name:"VueJsModal",props:{name:{required:!0,type:String},delay:{type:Number,default:0},resizable:{type:Boolean,default:!1},adaptive:{type:Boolean,default:!1},draggable:{type:[Boolean,String],default:!1},scrollable:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},transition:{type:String},clickToClose:{type:Boolean,default:!0},classes:{type:[String,Array],default:"v--modal"},minWidth:{type:Number,default:0,validator:function(t){return t>=0}},minHeight:{type:Number,default:0,validator:function(t){return t>=0}},maxWidth:{type:Number,default:1/0},maxHeight:{type:Number,default:1/0},width:{type:[Number,String],default:600,validator:function(t){if("string"==typeof t){var e=(0,d.default)(t);return("%"===e.type||"px"===e.type)&&e.value>0}return t>=0}},height:{type:[Number,String],default:300,validator:function(t){if("string"==typeof t){if("auto"===t)return!0;var e=(0,d.default)(t);return("%"===e.type||"px"===e.type)&&e.value>0}return t>=0}},pivotX:{type:Number,default:.5,validator:function(t){return t>=0&&t<=1}},pivotY:{type:Number,default:.5,validator:function(t){return t>=0&&t<=1}}},components:{Resizer:a.default},data:function(){return{visible:!1,visibility:{modal:!1,overlay:!1},shift:{left:0,top:0},modal:{width:0,widthType:"px",height:0,heightType:"px",renderedHeight:0},window:{width:0,height:0},mutationObserver:null}},watch:{visible:function(t){var e=this;t?(this.visibility.overlay=!0,setTimeout(function(){e.visibility.modal=!0,e.$nextTick(function(){e.addDraggableListeners(),e.callAfterEvent(!0)})},this.delay)):(this.visibility.modal=!1,setTimeout(function(){e.visibility.overlay=!1,e.$nextTick(function(){e.removeDraggableListeners(),e.callAfterEvent(!1)})},this.delay))}},created:function(){this.setInitialSize()},beforeMount:function(){var t=this;if(s.default.event.$on("toggle",function(e,i,n){e===t.name&&(void 0===i&&(i=!t.visible),t.toggle(i,n))}),window.addEventListener("resize",this.onWindowResize),this.onWindowResize(),this.scrollable&&!this.isAutoHeight&&console.warn('Modal "'+this.name+'" has scrollable flag set to true but height is not "auto" ('+this.height+")"),this.isAutoHeight){var e=function(){for(var t=["","WebKit","Moz","O","Ms"],e=0;e<t.length;e++){var i=t[e]+"MutationObserver";if(i in window)return window[i]}return!1}();e&&(this.mutationObserver=new e(function(e){t.updateRenderedHeight()}))}this.clickToClose&&window.addEventListener("keyup",this.onEscapeKeyUp)},beforeDestroy:function(){window.removeEventListener("resize",this.onWindowResize),this.clickToClose&&window.removeEventListener("keyup",this.onEscapeKeyUp)},computed:{isAutoHeight:function(){return"auto"===this.modal.heightType},position:function(){var t=this.window,e=this.shift,i=this.pivotX,n=this.pivotY,o=this.trueModalWidth,s=this.trueModalHeight,r=t.width-o,a=t.height-s,l=e.left+i*r,d=e.top+n*a;return{left:(0,u.inRange)(0,r,l),top:(0,u.inRange)(0,a,d)}},trueModalWidth:function(){var t=this.window,e=this.modal,i=this.adaptive,n=this.minWidth,o=this.maxWidth,s="%"===e.widthType?t.width/100*e.width:e.width,r=Math.min(t.width,o);return i?(0,u.inRange)(n,r,s):s},trueModalHeight:function(){var t=this.window,e=this.modal,i=this.isAutoHeight,n=this.adaptive,o=this.maxHeight,s="%"===e.heightType?t.height/100*e.height:e.height;if(i)return this.modal.renderedHeight;var r=Math.min(t.height,o);return n?(0,u.inRange)(this.minHeight,r,s):s},overlayClass:function(){return{"v--modal-overlay":!0,scrollable:this.scrollable&&this.isAutoHeight}},modalClass:function(){return["v--modal-box",this.classes]},modalStyle:function(){return{top:this.position.top+"px",left:this.position.left+"px",width:this.trueModalWidth+"px",height:this.isAutoHeight?"auto":this.trueModalHeight+"px"}}},methods:{setInitialSize:function(){var t=this.modal,e=(0,d.default)(this.width),i=(0,d.default)(this.height);t.width=e.value,t.widthType=e.type,t.height=i.value,t.heightType=i.type},onEscapeKeyUp:function(t){27===t.which&&this.visible&&this.$modal.hide(this.name)},onWindowResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},genEventObject:function(t){var e={name:this.name,timestamp:Date.now(),canceled:!1,ref:this.$refs.modal};return Object.assign(e,t||{})},onModalResize:function(t){this.modal.widthType="px",this.modal.width=t.size.width,this.modal.heightType="px",this.modal.height=t.size.height;var e=this.modal.size,i=this.genEventObject({size:e});this.$emit("resize",i)},toggle:function(t,e){var i=this.reset,n=this.scrollable,o=this.visible;if(o!==t){var s=o?"before-close":"before-open";"before-open"===s?(document.activeElement&&document.activeElement.blur(),i&&(this.setInitialSize(),this.shift.left=0,this.shift.top=0),n&&document.body.classList.add("v--modal-block-scroll")):n&&document.body.classList.remove("v--modal-block-scroll");var r=!1,a=function(){r=!0},u=this.genEventObject({stop:a,state:t,params:e});this.$emit(s,u),r||(this.visible=t)}},getDraggableElement:function(){var t="string"!=typeof this.draggable?".v--modal-box":this.draggable;if(t){var e=this.$refs.overlay.querySelector(t);if(e)return e}},onBackgroundClick:function(){this.clickToClose&&this.toggle(!1)},addDraggableListeners:function(){var t=this;if(this.draggable){var e=this.getDraggableElement();if(e){var i=0,n=0,o=0,s=0,r=function(t){return t.touches&&t.touches.length>0?t.touches[0]:t},a=function(e){var a=e.target;if(!a||"INPUT"!==a.nodeName){var d=r(e),c=d.clientX,h=d.clientY;document.addEventListener("mousemove",u),document.addEventListener("mouseup",l),document.addEventListener("touchmove",u),document.addEventListener("touchend",l),i=c,n=h,o=t.shift.left,s=t.shift.top}},u=function(e){var a=r(e),u=a.clientX,l=a.clientY;t.shift.left=o+u-i,t.shift.top=s+l-n,e.preventDefault()},l=function t(e){document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",t),document.removeEventListener("touchmove",u),document.removeEventListener("touchend",t),e.preventDefault()};e.addEventListener("mousedown",a),e.addEventListener("touchstart",a)}}},removeDraggableListeners:function(){},callAfterEvent:function(t){t?this.connectObserver():this.disconnectObserver();var e=t?"opened":"closed",i=this.genEventObject({state:t});this.$emit(e,i)},updateRenderedHeight:function(){this.$refs.modal&&(this.modal.renderedHeight=this.$refs.modal.getBoundingClientRect().height)},connectObserver:function(){this.mutationObserver&&this.mutationObserver.observe(this.$refs.modal,{childList:!0,attributes:!0,subtree:!0})},disconnectObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect()}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{uid:0,modals:[]}},created:function(){this.$modal._setDynamicContainer(this)},methods:{add:function(t,e,i){var n=this,o=this.uid++;i=i?Object.assign({},i):{},i.name||(i.name="_dynamic-modal-"+o),this.modals.push({id:o,component:t,params:e||{},config:i}),this.$nextTick(function(){n.$modal.show(i.name)})},remove:function(t){for(var e in this.modals)if(this.modals[e].id===t)return void this.modals.splice(e,1)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2);e.default={name:"VueJsModalResizer",props:{minHeight:{type:Number,default:0},minWidth:{type:Number,default:0}},data:function(){return{clicked:!1,size:{}}},mounted:function(){this.$el.addEventListener("mousedown",this.start,!1)},computed:{className:function(){return{"vue-modal-resizer":!0,clicked:this.clicked}}},methods:{start:function(t){this.clicked=!0,window.addEventListener("mousemove",this.mousemove,!1),window.addEventListener("mouseup",this.stop,!1),t.stopPropagation(),t.preventDefault()},stop:function(){this.clicked=!1,window.removeEventListener("mousemove",this.mousemove,!1),window.removeEventListener("mouseup",this.stop,!1),this.$emit("resize-stop",{element:this.$el.parentElement,size:this.size})},mousemove:function(t){this.resize(t)},resize:function(t){var e=this.$el.parentElement;if(e){var i=t.clientX-e.offsetLeft,o=t.clientY-e.offsetTop;i=(0,n.inRange)(this.minWidth,window.innerWidth,i),o=(0,n.inRange)(this.minHeight,window.innerHeight,o),this.size={width:i,height:o},e.style.width=i+"px",e.style.height=o+"px",this.$emit("resize",{element:e,size:this.size})}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=[{name:"px",regexp:new RegExp("^[-+]?[0-9]*.?[0-9]+px$")},{name:"%",regexp:new RegExp("^[-+]?[0-9]*.?[0-9]+%$")},{name:"px",regexp:new RegExp("^[-+]?[0-9]*.?[0-9]+$")}],s=function(t){if("auto"===t)return{type:t,value:0};for(var e=0;e<o.length;e++){var i=o[e];if(i.regexp.test(t))return{type:i.name,value:parseFloat(t)}}return{type:"",value:t}},r=e.parse=function(t){switch(void 0===t?"undefined":n(t)){case"number":return{type:"px",value:t};case"string":return s(t);default:return{type:"",value:t}}};e.default=r},function(t,e){},function(t,e){},function(t,e){},function(t,e,i){i(13);var n=i(0)(i(9),i(18),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"#modals-container"}},t._l(t.modals,function(e){return i("modal",t._b({key:e.id,on:{closed:function(i){return t.remove(e.id)}}},"modal",e.config,!1),[i(e.component,t._b({tag:"component",on:{close:function(i){return t.$modal.hide(e.config.name)}}},"component",e.params,!1))],1)}),1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal",{attrs:{name:"dialog",height:"auto",classes:["v--modal","vue-dialog",this.params.class],width:t.width,"pivot-y":.3,adaptive:!0,clickToClose:t.clickToClose,transition:t.transition},on:{"before-open":t.beforeOpened,"before-close":t.beforeClosed,opened:function(e){return t.$emit("opened",e)},closed:function(e){return t.$emit("closed",e)}}},[i("div",{staticClass:"dialog-content"},[t.params.title?i("div",{staticClass:"dialog-c-title",domProps:{innerHTML:t._s(t.params.title||"")}}):t._e(),t._v(" "),i("div",{staticClass:"dialog-c-text",domProps:{innerHTML:t._s(t.params.text||"")}})]),t._v(" "),t.buttons?i("div",{staticClass:"vue-dialog-buttons"},t._l(t.buttons,function(e,n){return i("button",{key:n,class:e.class||"vue-dialog-button",style:t.buttonStyle,attrs:{type:"button"},domProps:{innerHTML:t._s(e.title)},on:{click:function(e){return e.stopPropagation(),t.click(n,e)}}},[t._v("\n      "+t._s(e.title)+"\n    ")])}),0):i("div",{staticClass:"vue-dialog-buttons-none"})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"overlay-fade"}},[t.visibility.overlay?i("div",{ref:"overlay",class:t.overlayClass,attrs:{"aria-expanded":t.visible.toString(),"data-modal":t.name},on:{mousedown:function(e){return e.stopPropagation(),t.onBackgroundClick(e)},touchstart:function(e){return e.stopPropagation(),t.onBackgroundClick(e)}}},[i("div",{staticClass:"v--modal-top-right"},[t._t("top-right")],2),t._v(" "),i("transition",{attrs:{name:t.transition}},[t.visibility.modal?i("div",{ref:"modal",class:t.modalClass,style:t.modalStyle,on:{mousedown:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()}}},[t._t("default"),t._v(" "),t.resizable&&!t.isAutoHeight?i("resizer",{attrs:{"min-width":t.minWidth,"min-height":t.minHeight},on:{resize:t.onModalResize}}):t._e()],2):t._e()])],1):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.className})},staticRenderFns:[]}}])});